!function(o){var t={};function a(e){if(t[e]){return t[e].exports}var n=t[e]={"e":e,"n":!1,"exports":{}};return o[e].call(n.exports,n,n.exports,a),n.n=!0,n.exports}a.o=o,a.t=t,a.a=function(e,n,o){a.r(e,n)||Object.defineProperty(e,n,{"c":!0,"i":o})},a.s=function(e){"undefined"!=typeof Symbol&&Symbol.u&&Object.defineProperty(e,Symbol.u,{"l":"Module"}),Object.defineProperty(e,"_",{"l":!0})},a.d=function(n,e){if(1&e&&(n=a(n)),8&e){return n}if(4&e&&"object"==typeof n&&n&&n._){return n}var o=Object.create(null);if(a.s(o),Object.defineProperty(o,"f",{"c":!0,"l":n}),2&e&&"string"!=typeof n){for(var t in n){a.a(o,t,function(e){return n[e]}.bind(null,t))}}return o},a.m=function(e){var n=e&&e._?function(){return e.f}:function(){return e};return a.a(n,"a",n),n},a.r=function(e,n){return{}.hasOwnProperty.call(e,n)},a.p="",a(a.v=0)}([function(e,n,o){"use strict";var m=o(1);wx.onTouchStart(function(e){p.g({"game_id":"200000812","game_key":"b4d6f4ac9046dc2095fa01d62077e222","game_name":"\u56db\u6d77\u7267\u4e91","game_ver":"2.0","offer_id":"1450017456"}),p.w(function(){console.log("1111")})});var p={},d="https://authorize.aidalan.com/v1/",f=wx.getSystemInfoSync().system.toLowerCase().indexOf("ios")<0;p.h=function(){var e,n,o,t,a,r,c=new Date,i=wx.getStorageSync("game_config"),s=i.game_id,u=i.game_name,l=(i.game_key,i.game_ver);return{"channel_platform":{"ad_id":"minigames"},"device":(r={},a=(r=wx.getSystemInfoSync()).system.split(" "),wx.getNetworkType({"success":function(e){wx.setStorageSync("networkType",e.b)}}),o=wx.getStorageSync("networkType"),wx.getScreenBrightness({"success":function(e){wx.setStorageSync("screen_brightness",e.l)}}),t=100*(wx.getStorageSync("screen_brightness")+0),{"screen_width":""+r.screenWidth,"screen_height":""+r.screenHeight,"device_name":r.brand+" "+r.model,"os_ver":""+a[1],"sdk_ver":"1.0.0","package_name":"com.junhai.union_new","os_type":""+a[0],"net_type":""+o,"brand":""+r.brand,"model":""+r.model,"battery_level":""+r.batteryLevel,"screen_brightness":""+t}),"game":{"game_name":u,"game_id":s,"game_ver":l},"other":{"client_ts":""+Math.round(c.getTime()/1e3),"client_time_zone":"GMT"+(e=c.getTimezoneOffset()/60,n=Math.abs(e)<10?"0"+Math.abs(e)+":00":Math.abs(e)+":00",e<0?"+ "+n:"- "+n)},"verify":{"open_id":"","open_key":"open_key","flag":5}}},p.S=function(e){var n=[];for(var o in e){n.push(o)}n.sort();for(var t="",a=0;a<n.length;a++){t+=n[a]+"="+JSON.stringify(e[n[a]])+"&"}return t.substring(0,t.length-1)},p.g=function(e){wx.setStorageSync("game_config",e)},p.w=function(i){console.log("=====login=====");var s=d+"miniGame/otherOpenAuthorize";wx.login({"success":function(e){console.log("res",e);var n=p.h();console.log("openid",e.code,n.verify),n.verify.open_id=e.code;var o=wx.getStorageSync("game_config").game_key,t=p.S(n)+o,a=m.k(t);n.sign=a,console.log("\u767b\u5f55"),console.log(JSON.stringify(n)),console.log(s),wx.request({"url":s,"data":n,"method":"POST","header":{"O":"application/json"},"success":function(e){if(console.log("\u53d1\u8d77\u4e86\u8bf7\u6c42"),1==e.data.ret){console.log("\u767b\u5f55\u6210\u529f");var n={"ret":1,"data":e.data.content,"msg":"\u767b\u5f55\u6210\u529f"},o=e.data.content,t={"authorize_code":Number(o.authorize_code),"union_app_id":200000812,"time":Math.round(new Date/1e3),"scope":1},a=p.S(t)+"ab51388b31d103fcee441f3e601ca624";console.log(a);var r=m.k(a);t.sign=r,wx.request({"url":d+"token","data":t,"method":"POST","header":{"O":"application/json"},"success":function(e){if(console.log(e),1===e.data.ret){var n=e.data.content;p.M({"j":n.j,"T":n.T}),p.N({"J":"100","P":"RMB","z":"http://www.baidu.com","D":"78945","G":"2020010415698745236","C":"1","B":"1","I":"1","A":"1","R":"1","F":"1","Q":"1","Y":"1","q":"1","H":"1","K":"1","L":"1","U":"1","V":"1","W":"1"},function(){console.log(1)},function(){console.log(2)})}}}),wx.setStorageSync("open_id",e.data.content.open_id),i(n)}else{console.log("\u767b\u5f55\u5931\u8d25",JSON.stringify(e)),console.log(s);var c={"ret":0,"data":e.data,"X":s,"msg":"\u767b\u5f55\u5931\u8d25"};i(c)}}})},"fail":function(e){console.log("\u8fdb\u5165\u4e86\u8fd9\u91cc"),console.log(e)}})},p.M=function(e){var n={};n.j=e.j,n.T=e.T,wx.setStorageSync("login_rsp",n)},p.Z=function(o,t,a){var e=wx.getStorageSync("game_config").game_key,n=p.h(),r=wx.getStorageSync("login_rsp").T;n.verify={"open_id":wx.getStorageSync("open_id"),"$":r,"type":1};var c=d+"miniGame/getMiniBalance",i=p.S(n)+e,s=m.k(i);n.sign=s,wx.request({"url":c,"data":n,"method":"POST","header":{"O":"application/json"},"success":function(e){if(console.log(e),0===e.data.content.ee){console.log("\u4f59\u989d\u4e3a0\uff0c\u53ef\u4ee5\u4e0b\u5355",e.data),p.ne(o,t,a)}else{console.log("\u4f59\u989d\u4e0d\u4e3a0\uff0c\u4e0d\u80fd\u4e0b\u5355",e.data);var n={"ret":0,"data":e.data,"X":c,"msg":"\u4f59\u989d\u4e0d\u4e3a0\uff0c\u4e0d\u80fd\u4e0b\u5355"};t(n)}}})},p.ne=function(e,t,a){var n,o=wx.getStorageSync("login_rsp"),r=wx.getStorageSync("game_config").game_key,c=d+"miniGame/order",i=p.h();n=f?"37":"54";var s={"Y":e.Y,"q":e.q,"Q":e.Q,"H":e.H,"F":e.F,"K":e.K,"L":e.L,"U":e.U,"V":e.V,"W":e.W},u={"j":o.j,"J":e.J,"P":"RMB","z":e.z,"D":e.D,"G":e.G,"C":e.C,"B":e.B,"I":e.I,"A":e.A,"R":e.R,"F":e.F,"Q":e.Q,"oe":n,"te":1,"ae":5};i.re=s,i.verify=u;var l=p.S(i)+r,_=m.k(l);i.sign=_,wx.request({"url":c,"data":i,"method":"POST","header":{"O":"application/json"},"success":function(e){if("success"==e.data.msg){console.log("\u4e0b\u5355\u8bf7\u6c42\u6210\u529f:",e.data);var n=parseInt(u.J)*parseInt(u.R)/100;console.log("\u4e0b\u5355\u91d1\u989d\uff08\u5206\uff09:",n),console.log(a),a?p.ce(e.data.content.ie):p.se(n,e.data,t)}else{console.log("\u4e0b\u5355\u8bf7\u6c42\u5931\u8d25:",e.data);var o={"ret":0,"data":e.data,"X":c,"msg":"\u4e0b\u5355\u8bf7\u6c42\u5931\u8d25"};t(o)}}})},p.ue=function(n,o){var e=p.h(),t=e.device,a=e.game,r=e.channel_platform,c=wx.getStorageSync("login_rsp");wx.getStorageSync("game_config").game_id,console.log(JSON.stringify(n)),console.log(JSON.stringify(e));var i={"le":{"screen_brightness":t.screen_brightness,"_e":"","de":t.os_ver,"fe":a.game_name,"me":"","pe":"","from":t.os_type,"ve":"","package_name":t.package_name,"battery_level":t.battery_level,"ge":"","we":a.game_ver,"ye":"","he":"","brand":t.brand,"xe":t.screen_width|t.screen_height,"be":t.sdk_ver,"device_name":t.device_name,"Se":"","ke":"","Oe":"","model":t.model},"Me":{"j":c.j,"z":n.z,"P":n.P,"je":{"Te":r.ad_id},"G":n.G,"C":n.C,"B":n.B,"I":n.I,"A":n.A,"R":"10","F":n.F,"Y":n.Y,"Q":n.Q,"D":n.D,"J":n.J,"$":n.F,"Ne":n.q},"time":Math.round((new Date).getTime()/1e3),"union_app_id":"200000812","Je":r.ad_id};wx.request({"url":"https://payments.aidalan.com/v1/miniGame/ystaticSwitch","data":i,"method":"POST","header":{"O":"application/json"},"success":function(e){1==e.data.ret?""!=e.data.content.url?(console.log("\u5207\u652f\u4ed8"),p.ne(n,o,!0)):(console.log("\u4e0d\u5207\u652f\u4ed8"),p.Pe(n,o,!1)):(console.log(e),p.Pe(n,o,!1))},"fail":function(e){console.log(e),p.Pe(n,o,!1)}})},p.Pe=function(e,n,o){f?p.Z(e,n,o):wx.showToast({"ze":"\u6682\u672a\u5f00\u901a","De":"none"})},p.N=function(o,t,a){wx.checkSession({"success":function(e){if("checkSession:ok"==e.errMsg){console.log("\u767b\u5f55\u6709\u6548",e),p.ue(o,a)}else{console.log("\u767b\u5f55\u8fc7\u671f\u3002\u8bf7\u91cd\u65b0\u767b\u5f55",e);var n={"ret":0,"data":e.data,"msg":"\u767b\u5f55\u8fc7\u671f\u3002\u8bf7\u91cd\u65b0\u767b\u5f55"};a(n),t()}},"fail":function(){console.log("\u767b\u5f55\u8fc7\u671f\u3002\u8bf7\u91cd\u65b0\u767b\u5f55",res);var e={"ret":0,"data":res.data,"msg":"\u767b\u5f55\u8fc7\u671f\u3002\u8bf7\u91cd\u65b0\u767b\u5f55"};a(e),t()}})},p.ce=function(n){console.log("\u5207\u652f\u4ed8\u8fdb\u5165\u5ba2\u670d"),wx.showModal({"ze":"\u8ba2\u5355\u652f\u4ed8","content":"\u6211\u544a\u8bc9\u4f60\u5982\u4f55\u652f\u4ed8","Ge":!1,"Ce":"\u8fdb\u5165\u5ba2\u670d","success":function(e){e.Be?(console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"),wx.openCustomerServiceConversation({"Ie":!0,"Ae":n,"Re":n,"success":function(e){console.log(e)},"fail":function(e){console.log(e)}})):e.Fe&&console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88")}})},p.se=function(e,n,o){console.log(e);var t={"Qe":"game","env":0,"Ye":wx.getStorageSync("game_config").offer_id,"qe":"CNY","Ee":100,"platform":"android","He":1,"success":function(e){console.log("\u652f\u4ed8\u6210\u529f",e),p.Ke(n,o)},"fail":function(e){console.Le("\u652f\u4ed8\u9519\u8bef: ",e);var n={"ret":0,"data":res.data,"msg":"\u7c73\u5927\u5e08\u652f\u4ed8\u9519\u8bef"};o(n)}};wx.requestMidasPayment(t)},p.Ke=function(e,t){var n=wx.getStorageSync("game_config"),o=n.game_id,a=n.game_name,r=n.game_ver,c=n.game_key,i=new Date,s=e.content.Ue,u=e.content.ie,l={"union_app_id":o,"G":u,"open_id":wx.getStorageSync("open_id"),"time":""+Math.round(i.getTime()/1e3)},_={"game_name":a,"game_id":o,"game_ver":r,"oe":"37"},d=p.S(l)+c;d=d.replace(/\"/g,"");var f=m.k(d);l.sign=f,l.Ve=_,console.log(JSON.stringify(l)),wx.request({"url":"http://paytest.aidalan.com/v1/payCallBack/37","data":l,"method":"POST","header":{"O":"application/json"},"success":function(e){if(console.log("payCallback:",JSON.stringify(e.data)),console.log(u),1==e.data.ret){var n={"ret":1,"data":e.data,"msg":"\u652f\u4ed8\u6210\u529f"};t(n)}else{var o={"ret":0,"data":e.data,"X":s,"msg":"\u652f\u4ed8\u5931\u8d25"};t(o)}}})},p.We=function(i){wx.onTouchEnd(function(e){function n(e,n){e.setDate(e.getDate()+n);var o=e.getFullYear(),t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return Number(o+t+a)}if(n(new Date,0)<=n(new Date(i),15)){var o=e.changedTouches[0],t=o.Xe,a=o.Ze,r=p.h(),c={"event":"mini_game","x":t,"y":a};r.verify=c,wx.request({"url":d+"miniGame/record","data":r,"method":"POST","header":{"O":"application/json"},"success":function(e){console.log(e),1==e.data.ret?console.log("\u76d1\u542c\u6210\u529f"):console.log("\u76d1\u542c\u5931\u8d25")}})}})},p.We("2020-01-08"),e.exports=p},function(e,n,o){"use strict";function i(e,n){return e<<n|e>>>32-n}function _(e,n){var o,t,a,r,c;return a=2147483648&e,r=2147483648&n,c=(1073741823&e)+(1073741823&n),(o=1073741824&e)&(t=1073741824&n)?2147483648^c^a^r:o|t?1073741824&c?3221225472^c^a^r:1073741824^c^a^r:c^a^r}function d(e,n,o,t,a,r,c){return e=_(e,_(_(n&o|~n&t,a),c)),_(i(e,r),n)}function f(e,n,o,t,a,r,c){return e=_(e,_(_(n&t|o&~t,a),c)),_(i(e,r),n)}function m(e,n,o,t,a,r,c){return e=_(e,_(_(n^o^t,a),c)),_(i(e,r),n)}function p(e,n,o,t,a,r,c){return e=_(e,_(_(o^(n|~t),a),c)),_(i(e,r),n)}function v(e){var n,o="",t="";for(n=0;n<=3;n++){o+=(t="0"+(e>>>8*n&255).toString(16)).substr(t.length-2,2)}return o}e.exports.k=function(e){var n,o,t,a,r,c,i,s,u,l=Array();for(l=function(e){for(var n,o=e.length,t=o+8,a=16*(1+(t-t%64)/64),r=Array(a-1),c=0,i=0;i<o;){c=i%4*8,r[n=(i-i%4)/4]=r[n]|e.charCodeAt(i)<<c,i++}return c=i%4*8,r[n=(i-i%4)/4]=r[n]|128<<c,r[a-2]=o<<3,r[a-1]=o>>>29,r}(e=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var n="",o=0;o<e.length;o++){var t=e.charCodeAt(o);t<128?n+=String.fromCharCode(t):(127<t&&t<2048?n+=String.fromCharCode(t>>6|192):(n+=String.fromCharCode(t>>12|224),n+=String.fromCharCode(t>>6&63|128)),n+=String.fromCharCode(63&t|128))}return n}(e)),c=1732584193,i=4023233417,s=2562383102,u=271733878,n=0;n<l.length;n+=16){c=d(o=c,t=i,a=s,r=u,l[n+0],7,3614090360),u=d(u,c,i,s,l[n+1],12,3905402710),s=d(s,u,c,i,l[n+2],17,606105819),i=d(i,s,u,c,l[n+3],22,3250441966),c=d(c,i,s,u,l[n+4],7,4118548399),u=d(u,c,i,s,l[n+5],12,1200080426),s=d(s,u,c,i,l[n+6],17,2821735955),i=d(i,s,u,c,l[n+7],22,4249261313),c=d(c,i,s,u,l[n+8],7,1770035416),u=d(u,c,i,s,l[n+9],12,2336552879),s=d(s,u,c,i,l[n+10],17,4294925233),i=d(i,s,u,c,l[n+11],22,2304563134),c=d(c,i,s,u,l[n+12],7,1804603682),u=d(u,c,i,s,l[n+13],12,4254626195),s=d(s,u,c,i,l[n+14],17,2792965006),c=f(c,i=d(i,s,u,c,l[n+15],22,1236535329),s,u,l[n+1],5,4129170786),u=f(u,c,i,s,l[n+6],9,3225465664),s=f(s,u,c,i,l[n+11],14,643717713),i=f(i,s,u,c,l[n+0],20,3921069994),c=f(c,i,s,u,l[n+5],5,3593408605),u=f(u,c,i,s,l[n+10],9,38016083),s=f(s,u,c,i,l[n+15],14,3634488961),i=f(i,s,u,c,l[n+4],20,3889429448),c=f(c,i,s,u,l[n+9],5,568446438),u=f(u,c,i,s,l[n+14],9,3275163606),s=f(s,u,c,i,l[n+3],14,4107603335),i=f(i,s,u,c,l[n+8],20,1163531501),c=f(c,i,s,u,l[n+13],5,2850285829),u=f(u,c,i,s,l[n+2],9,4243563512),s=f(s,u,c,i,l[n+7],14,1735328473),c=m(c,i=f(i,s,u,c,l[n+12],20,2368359562),s,u,l[n+5],4,4294588738),u=m(u,c,i,s,l[n+8],11,2272392833),s=m(s,u,c,i,l[n+11],16,1839030562),i=m(i,s,u,c,l[n+14],23,4259657740),c=m(c,i,s,u,l[n+1],4,2763975236),u=m(u,c,i,s,l[n+4],11,1272893353),s=m(s,u,c,i,l[n+7],16,4139469664),i=m(i,s,u,c,l[n+10],23,3200236656),c=m(c,i,s,u,l[n+13],4,681279174),u=m(u,c,i,s,l[n+0],11,3936430074),s=m(s,u,c,i,l[n+3],16,3572445317),i=m(i,s,u,c,l[n+6],23,76029189),c=m(c,i,s,u,l[n+9],4,3654602809),u=m(u,c,i,s,l[n+12],11,3873151461),s=m(s,u,c,i,l[n+15],16,530742520),c=p(c,i=m(i,s,u,c,l[n+2],23,3299628645),s,u,l[n+0],6,4096336452),u=p(u,c,i,s,l[n+7],10,1126891415),s=p(s,u,c,i,l[n+14],15,2878612391),i=p(i,s,u,c,l[n+5],21,4237533241),c=p(c,i,s,u,l[n+12],6,1700485571),u=p(u,c,i,s,l[n+3],10,2399980690),s=p(s,u,c,i,l[n+10],15,4293915773),i=p(i,s,u,c,l[n+1],21,2240044497),c=p(c,i,s,u,l[n+8],6,1873313359),u=p(u,c,i,s,l[n+15],10,4264355552),s=p(s,u,c,i,l[n+6],15,2734768916),i=p(i,s,u,c,l[n+13],21,1309151649),c=p(c,i,s,u,l[n+4],6,4149444226),u=p(u,c,i,s,l[n+11],10,3174756917),s=p(s,u,c,i,l[n+2],15,718787259),i=p(i,s,u,c,l[n+9],21,3951481745),c=_(c,o),i=_(i,t),s=_(s,a),u=_(u,r)}return(v(c)+v(i)+v(s)+v(u)).toLowerCase()}}]);